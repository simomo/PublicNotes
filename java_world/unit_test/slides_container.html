<!DOCTYPE html>
<html>
  <head>
    <title>My Awesome Presentation</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <style type="text/css">
      @import url(https://fonts.googleapis.com/css?family=Yanone+Kaffeesatz);
      @import url(https://fonts.googleapis.com/css?family=Droid+Serif:400,700,400italic);
      @import url(https://fonts.googleapis.com/css?family=Ubuntu+Mono:400,700,400italic);

      body { font-family: 'Droid Serif'; }
      h1, h2, h3 {
        font-family: 'Yanone Kaffeesatz';
        font-weight: normal;
      }
      .remark-code, .remark-inline-code { font-family: 'Ubuntu Mono'; }
    </style>
  </head>
  <body>
    <textarea id="source">

class: center, middle

# 单元测试简介

---

# Agenda

1. 什么是单元测试
2. 为什么要单元测试
3. 怎么单元测试
4. TDD

---

class: center, middle

# 什么是单元测试

---

## 概念

> 维基百科：  
> 是针对程序模块（软件设计的最小单位）来进行正确性检验的测试工作。程序单元是应用的最小可测试部件。在过程化编程中，一个单元就是***单个程序、函数、过程***等；对于面向对象编程，最小单元就是***方法***，包括基类（超类）、抽象类、或者派生类（子类）中的方法。

---

class: center, middle

# 为什么要单元测试

---

## 我的最开始的认识：大家都在写单元测试

最近几年开源软件都在这么干，都在追求代码覆盖率，那我也得这么干

---

## 货柜崇拜

第二次世界大战太平洋战争时，美军于塔纳岛建立一临时基地。当时岛上的原住民看见美军于“大铁船”（军舰）内出来，皆觉得十分惊讶；他们也看到，有一些“大铁鸟”（军用飞机）运送穿着美军军服的人及许多物资。这些原住民看见这种情况均感到很惊讶，并觉得这些“大铁船”及“大铁鸟”十分厉害。加上美军也提供部分物资给原住民，而这些物资对原住民来说十分有用，结果这些原住民将美军当作神。  

第二次世界大战结束后，美军离开塔纳岛，只留下一些美军军服及一些货物。塔纳岛原住民便认为这些货物具有神奇力量，又相信“神”（美军）他日会回来并带来更多货物，使他们展开一个幸福新时代[5][6]。但是美军当然再也没有回来塔纳岛，因此这些原住民便自己发展出一套敬拜仪式，崇拜美军军服及货物；***表现形式是原住民会穿着美军军服、升起美国国旗，***图腾则是木刻的飞机。

---

class: center, middle

## 深层次原因

---

class: center, middle

如果你希望自己的软件灵活可变，那就应该时常修改它；

要想证明软件易于修改，唯一办法就是做些实际的修改；

---

class: middle

该在什么时候做这些简单的小修改呢？随时！关注哪个模块，就对它做点简单的修改来改进结构。每次通读代码的时候，也可以不时调整一下结构。

***这完全与大多数人对软件的理解相反。他们认为对上线运行的软件不断地做修改是危险的。错！让软件保持固定不变才是危险的！如果一直不重构代码，等到最后不得不重构时，你就会发现代码已经“僵化了”。***

---

class: middle

为什么大多数开发人员不敢不断修改他的代码呢？因为他们害怕会改坏代码！为什么会有这样的担心呢？因为他们没做过测试.

话题又回到测试上来了。***如果你有一套覆盖了全部代码的自动化测试，如果那套测试可以随时快速执行，那么你根本不会害怕修改代码。***怎样才能证明你不怕修改代码呢？那就是，你一直在改。

---

class: middle

看到糟糕代码的时候，你为什么不修改？看到混乱的函数的时候，你的第一反应是：“真实一团糟，这个函数需要整理。”

你的第二反应是：“我不会去碰它！”为什么？因为你知道，如果去动它，就要冒着破坏它的风险；而如果你破坏了它，那么它就缠上你了。

---

class: middle

拥有一套值得信赖的测试，便可完全打消对修改代码的全部恐惧，当看见糟糕代码的时候，就可以放手整理，代码变得具有可塑性。

当程序员不再惧怕整理代码时，他们便会动手整理！整洁的代码更易于理解，更易于修改，也更易于扩展。代码简洁了，缺陷也更少了。

---

class: center, middle

# 怎么单元测试

---


---

class: center, middle

# TDD

---

class: center, middle

# 理想与现实

---

class: center, middle

### “做人如果没有梦想，和咸鱼有什么区别”
![dream](dream.jpg)



    </textarea>
    <script src="https://remarkjs.com/downloads/remark-latest.min.js" type="text/javascript">
    </script>
    <script type="text/javascript">
      var slideshow = remark.create();
    </script>
  </body>
</html>